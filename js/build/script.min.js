!function($){function ViewModel(){var self=this;self.arrivals=ko.observableArray([])}var vm=new ViewModel;$.extend($,{vm:vm}),$(function(){FastClick.attach(document.body)})}(jQuery),function(){function ArrivalViewModel(){var self=this;self.title="",self.status="",self.time=""}function ArrivalApiService(){var self=this;self.getAll=function(){return $.get("./api/data.json").then(function(response){return response})}}function ArrivalAdapter(){var self=this;self.toArrivalViewModel=function(data){if(data){var vm=new ArrivalViewModel;return vm.title=data.title,vm.status=data.status,vm.time=data.time,vm}return null},self.toArrivalViewModels=function(data){return data&&data.length>0?_.map(data,function(item){return self.toArrivalViewModel(item)}):[]}}function ArrivalController(arrivalApiService,arrivalAdapter){var self=this;self.getAll=function(){return arrivalApiService.getAll().then(function(response){return arrivalAdapter.toArrivalViewModels(response)})}}!function($){var arrivalApiService=new ArrivalApiService,arrivalAdapter=new ArrivalAdapter,arrivalController=new ArrivalController(arrivalApiService,arrivalAdapter);$(".arrivals-list").addClass("loading"),arrivalController.getAll().then(function(response){$.vm.arrivals(response),$(".arrivals-list").removeClass("loading")}),ko.applyBindings($.vm);setInterval(function(){$(".arrivals-list").addClass("loading"),arrivalController.getAll().then(function(response){$.vm.arrivals(response),$(".arrivals-list").removeClass("loading")})},3e3)}(jQuery)}();
//# sourceMappingURL=script.min.js.map